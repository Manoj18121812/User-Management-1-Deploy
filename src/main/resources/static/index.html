<!DOCTYPE html>
<html>
<head>
    <title>User Manager</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container">
    <h2>User Management</h2>

    <input id="name" placeholder="Name">
    <input id="email" placeholder="Email">
    <button onclick="addUser()">Add</button>

    <ul id="list"></ul>
</div>

<script>
    function loadUsers() {
     fetch('/api/users')
     .then(res => res.json())
     .then(data => {
       let list = document.getElementById("list");
       list.innerHTML = "";
       data.forEach(u => {
         let li = document.createElement("li");
         li.innerHTML = u.name + " (" + u.email + ") <button onclick='del("+u.id+")'>X</button>";
         list.appendChild(li);
       });
     });
    }

    function addUser() {
     fetch('/api/users', {
       method: 'POST',
       headers: {'Content-Type':'application/json'},
       body: JSON.stringify({
         name: document.getElementById("name").value,
         email: document.getElementById("email").value
       })
     }).then(loadUsers);
    }

    function del(id) {
     fetch('/api/users/'+id, {method:'DELETE'}).then(loadUsers);
    }

    loadUsers();
</script>

</body>
</html>
